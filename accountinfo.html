<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>DeviceSync</title>
    <meta name="description" content="Cross Platform Multi-Device Clipboard Software">
    <meta name="" content="">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/img/DeviceSync%20Icon.png">
    <link rel="icon" type="image/png" sizes="512x512" href="assets/img/DeviceSync%20Icon.png">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Risque&amp;display=swap">
    <link rel="stylesheet" href="assets/css/Sansation.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Share+Tech&amp;display=swap">
    <link rel="stylesheet" href="assets/fonts/ionicons.min.css">
    <link rel="stylesheet" href="assets/css/Drag-Drop-File-Input-Upload.css">
    <link rel="stylesheet" href="assets/css/styles.css">
</head>

<body style="background: linear-gradient(to right top, #241f31, #2e243f, #39284d, #462b5b, #542e68), rgba(255,255,255,0);background-repeat: inherit;">
    <div id="ifLoggedin" style="/*display: none;*//*visibility: hidden;*/">
        <div class="d-flex d-xl-flex d-xxl-flex justify-content-end align-items-center justify-content-xl-end align-items-xl-center justify-content-xxl-end align-items-xxl-center" id="center-1" style="padding-bottom: 15px;padding-top: 11px;padding-right: 9px;"><script>
  function logout(){
    removeCookies();
    window.location='index.html';
  }
</script>
<button class="btn btn-primary btn-grad" onclick="logout()" type="button">Logout</button>
</div><script>
  window.addEventListener('load', function () {
    var welcomeLabel = document.getElementById('welcomeLabel');
    var elementText = welcomeLabel.innerText;
    var username = getCookie("username");
    elementText = elementText + username;
     welcomeLabel.innerText = elementText
  })
</script>

<h3 id="welcomeLabel" class="d-flex d-sm-flex justify-content-center align-items-center justify-content-sm-center" style="padding-top: 22px;font-family: 'Share Tech', sans-serif;color: #A441FF;">Username:Â </h3>

        <div class="d-flex d-xl-flex d-xxl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center justify-content-xxl-center align-items-xxl-center" id="center-3" style="padding-bottom: 15px;"><h3 id="welcomeLabel" class="d-flex d-sm-flex justify-content-center align-items-center justify-content-sm-center" style="padding-top: 22px;font-family: 'Share Tech', sans-serif;color: #A441FF;">Profile Picture</h3>
</div>
        <div class="d-flex d-xl-flex d-xxl-flex justify-content-center align-items-center justify-content-sm-center justify-content-lg-center justify-content-xl-center align-items-xl-center justify-content-xxl-center align-items-xxl-center" id="center-2" style="padding-bottom: 15px;padding-top: 11px;padding-right: 9px;"><script>
    // Wait till the site is loaded, once loaded check api status, also check if user signed in, if not redirect to index page
    window.addEventListener('load', async function () {
        // Check if the user is signed in
        isLoggedIn();
        const url = "https://devicesync-api.theprotondev.repl.co/getpfpfor?username=" + getCookie("username");
        let jsonResult = await (await fetch(url)).json();
        const pfp = jsonResult.pfp;
        let pfpBox = document.getElementById("profile_pic");
        pfpBox.src = pfp;
    })
</script>
<picture><img id='profile_pic' class="rounded-circle" style="height: 179px;width: 179px;" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fblog.sqlauthority.com%2Fwp-content%2Fuploads%2F2007%2F06%2Fnull.png&f=1&nofb=1"/></picture></div>
        <div class="d-flex d-xl-flex d-xxl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center justify-content-xxl-center align-items-xxl-center" id="center-5" style="padding-bottom: 15px;"><script>
window.addEventListener('load', function () {
  const fileInput = document.getElementById('pfpUpload');
  fileInput.onchange = () => {
    const selectedFile = fileInput.files[0];
    const formData = new FormData()
    formData.append('file', selectedFile)
    fetch("https://devicesync-api.theprotondev.repl.co/upload/ocr", {
    method: 'POST',
    body: formData
  }).then(
    response => response.json()
  ).then(
    success => loadOCROutput(success.Success) // Handle the success response object
  ).catch(
    error => console.log(error) // Handle the error response object
  );
};

})
</script>

<input id='pfpUpload' type="file" accept="image/*" required style="display: none;" />
<button class="btn btn-primary btn-grad" id='changePfp' onclick="//$('#pfpUpload').trigger('click')" type="button">Change Profile Picture | Disabled</button>
</div>
        <div class="d-flex d-xl-flex d-xxl-flex justify-content-center align-items-center justify-content-xl-center align-items-xl-center justify-content-xxl-center align-items-xxl-center" id="center-4" style="padding-bottom: 15px;"><button class="btn btn-primary btn-grad" type="button" onclick="window.location=&#39;home.html&#39;">Back</button></div>
    </div>
    <div id="ifNotloggedin" style="display: none;visibility: hidden;"><h3 class="text-center d-flex d-sm-flex justify-content-center align-items-center justify-content-sm-center" style="padding-top: 71px;font-family: 'Share Tech', sans-serif;color: #ff0000;">Hm, You're not supposed to be here<br />Redirecting In 3 Seconds...</h3>
</div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/protonSnippets.js"></script>
    <script src="assets/js/toast.min.js"></script>
</body>

</html>